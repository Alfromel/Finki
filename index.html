<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0a0a1a">
  <link rel="manifest" href="/manifest.json">
  <title>Finki TV Premium</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <meta name="apple-mobile-web-app-title" content="Finki TV">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#0a0a1a" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <style>
    :root {
      --primary-color: #0066ff;
      --primary-dark: #0052cc;
      --primary-light: #3385ff;
      --accent-color: #00ccff;
      --bg-dark: #000000;
      --bg-darker: #0a0a0a;
      --bg-card: #1a1a1a;
      --bg-card-hover: #222222;
      --text-light: #ffffff;
      --text-gray: #cccccc;
      --text-muted: #888888;
      --shadow: 0 4px 12px rgba(0, 102, 255, 0.3);
      --shadow-light: 0 2px 8px rgba(0, 102, 255, 0.2);
      --border-radius: 12px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, var(--bg-darker) 0%, var(--bg-dark) 100%);
      color: var(--text-light);
      line-height: 1.6;
      overflow-x: hidden;
      -webkit-tap-highlight-color: transparent;
      transition: background-color 0.3s ease;
    }

    body.light-mode {
      background: linear-gradient(135deg, #f0f2f5 0%, #e1e5ea 100%);
      color: #333333;
    }

    /* Splash Screen */
    .splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .splash-video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .splash-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.7) 0%,
        rgba(0, 0, 0, 0.5) 50%,
        rgba(0, 0, 0, 0.7) 100%
      );
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .splash-logo {
      font-family: 'Montserrat', sans-serif;
      font-weight: 800;
      font-size: 5rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-transform: uppercase;
      letter-spacing: 3px;
    }

    .splash-subtitle {
      font-family: 'Roboto', sans-serif;
      font-size: 1.2rem;
      color: var(--text-gray);
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    .splash-progress {
      position: absolute;
      bottom: 50px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
      overflow: hidden;
    }

    .splash-progress-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
      border-radius: 2px;
      transition: width 5s linear;
    }

    /* App Container */
    .app-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .app-container.loaded {
      opacity: 1;
    }

    /* Header Styles */
    .app-header {
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(10px);
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(0, 102, 255, 0.3);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .light-mode .app-header {
      background: rgba(255, 255, 255, 0.95);
      border-bottom: 1px solid rgba(0, 102, 255, 0.2);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo {
      width: 42px;
      height: 42px;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 18px;
      box-shadow: var(--shadow);
    }

    .logo-text {
      font-family: 'Montserrat', sans-serif;
      font-weight: 800;
      font-size: 26px;
      background: linear-gradient(to right, var(--primary-color), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .settings-btn, .theme-toggle {
      background: rgba(26, 26, 26, 0.8);
      border: none;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-gray);
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow-light);
    }

    .light-mode .settings-btn, .light-mode .theme-toggle {
      background: rgba(255, 255, 255, 0.8);
      color: #555;
    }

    .settings-btn:hover, .theme-toggle:hover {
      color: var(--primary-color);
      background: rgba(0, 102, 255, 0.1);
    }

    .settings-btn:hover {
      transform: rotate(90deg);
    }

    /* Main Content */
    .main-content {
      flex: 1;
      padding: 30px;
    }

    .light-mode .main-content {
      background: #f0f2f5;
    }

    .content-section {
      display: none;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .content-section.active {
      display: block;
    }

    .section-title {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 28px;
      margin-bottom: 25px;
      background: linear-gradient(to right, var(--primary-color), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-align: center;
      position: relative;
    }

    .light-mode .section-title {
      background: linear-gradient(to right, #0052cc, #0099cc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: linear-gradient(to right, var(--primary-color), var(--accent-color));
      border-radius: 2px;
    }

    .light-mode .section-title::after {
      background: linear-gradient(to right, #0052cc, #0099cc);
    }

    /* Channels Grid */
    .channels-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .channel-card {
      background: var(--bg-card);
      border-radius: var(--border-radius);
      overflow: hidden;
      cursor: pointer;
      transition: var(--transition);
      border: 1px solid rgba(255, 255, 255, 0.05);
      position: relative;
      box-shadow: var(--shadow-light);
    }

    .light-mode .channel-card {
      background: white;
      border: 1px solid rgba(0, 0, 0, 0.05);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .channel-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow);
      background: var(--bg-card-hover);
      border-color: rgba(0, 102, 255, 0.3);
    }

    .light-mode .channel-card:hover {
      background: #f5f5f5;
      border-color: rgba(0, 102, 255, 0.2);
    }

    .channel-thumbnail {
      position: relative;
      height: 120px;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .channel-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s;
    }

    .channel-card:hover .channel-thumbnail img {
      transform: scale(1.05);
    }

    .channel-live-badge {
      position: absolute;
      top: 8px;
      right: 8px;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
      color: white;
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 10px;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      box-shadow: var(--shadow-light);
    }

    .channel-number {
      position: absolute;
      top: 8px;
      left: 8px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 12px;
    }

    .channel-title {
      padding: 15px;
      font-weight: 600;
      text-align: center;
      font-size: 14px;
      background: var(--bg-darker);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    .light-mode .channel-title {
      background: #f8f9fa;
      border-top: 1px solid rgba(0, 0, 0, 0.05);
    }

    /* Series Grid */
    .series-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .series-card {
      background: var(--bg-card);
      border-radius: var(--border-radius);
      overflow: hidden;
      cursor: pointer;
      transition: var(--transition);
      border: 1px solid rgba(255, 255, 255, 0.05);
      position: relative;
      box-shadow: var(--shadow-light);
    }

    .light-mode .series-card {
      background: white;
      border: 1px solid rgba(0, 0, 0, 0.05);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .series-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow);
      background: var(--bg-card-hover);
      border-color: rgba(0, 102, 255, 0.3);
    }

    .light-mode .series-card:hover {
      background: #f5f5f5;
      border-color: rgba(0, 102, 255, 0.2);
    }

    .series-thumbnail {
      position: relative;
      height: 120px;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .series-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s;
    }

    .series-card:hover .series-thumbnail img {
      transform: scale(1.05);
    }

    .series-title {
      padding: 15px;
      font-weight: 600;
      text-align: center;
      font-size: 14px;
      background: var(--bg-darker);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    .light-mode .series-title {
      background: #f8f9fa;
      border-top: 1px solid rgba(0, 0, 0, 0.05);
    }

    /* Movies Grid */
    .movies-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .movie-card {
      background: var(--bg-card);
      border-radius: var(--border-radius);
      overflow: hidden;
      cursor: pointer;
      transition: var(--transition);
      border: 1px solid rgba(255, 255, 255, 0.05);
      position: relative;
      box-shadow: var(--shadow-light);
    }

    .light-mode .movie-card {
      background: white;
      border: 1px solid rgba(0, 0, 0, 0.05);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .movie-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow);
      background: var(--bg-card-hover);
      border-color: rgba(0, 102, 255, 0.3);
    }

    .light-mode .movie-card:hover {
      background: #f5f5f5;
      border-color: rgba(0, 102, 255, 0.2);
    }

    .movie-thumbnail {
      position: relative;
      height: 120px;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .movie-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s;
    }

    .movie-card:hover .movie-thumbnail img {
      transform: scale(1.05);
    }

    .movie-title {
      padding: 15px;
      font-weight: 600;
      text-align: center;
      font-size: 14px;
      background: var(--bg-darker);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    .light-mode .movie-title {
      background: #f8f9fa;
      border-top: 1px solid rgba(0, 0, 0, 0.05);
    }

    /* Footer */
    .app-footer {
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(0, 102, 255, 0.3);
      padding: 15px 0;
      margin-top: auto;
      position: sticky;
      bottom: 0;
      z-index: 100;
    }

    .light-mode .app-footer {
      background: rgba(255, 255, 255, 0.95);
      border-top: 1px solid rgba(0, 102, 255, 0.2);
    }

    .footer-nav {
      display: flex;
      justify-content: center;
      gap: 40px;
    }

    .footer-nav-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
      background: none;
      border: none;
      color: var(--text-gray);
      cursor: pointer;
      padding: 10px 15px;
      border-radius: 10px;
      transition: var(--transition);
      min-width: 70px;
    }

    .light-mode .footer-nav-btn {
      color: #666;
    }

    .footer-nav-btn i {
      font-size: 20px;
      transition: var(--transition);
    }

    .footer-nav-btn span {
      font-size: 12px;
      font-weight: 500;
      transition: var(--transition);
    }

    .footer-nav-btn.active {
      color: var(--primary-color);
      background: rgba(0, 102, 255, 0.1);
    }

    .light-mode .footer-nav-btn.active {
      background: rgba(0, 102, 255, 0.1);
    }

    .footer-nav-btn.active i {
      transform: translateY(-2px);
    }

    .footer-nav-btn:hover {
      background: rgba(0, 102, 255, 0.1);
      color: var(--primary-color);
    }

    /* Fullscreen Player */
    .fullscreen-player {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 2000;
      display: none;
    }

    .fullscreen-player.active {
      display: block;
    }

    .fullscreen-player iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Series Fullscreen Player */
    .series-fullscreen-player {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 2000;
      display: none;
    }

    .series-fullscreen-player.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .series-fullscreen-player iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Movies Fullscreen Player */
    .movies-fullscreen-player {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 2000;
      display: none;
    }

    .movies-fullscreen-player.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .movies-fullscreen-player iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    /* Modal */
    .tv-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }

    .tv-modal.active {
      display: flex;
    }

    .modal-content {
      background: var(--bg-card);
      border-radius: 15px;
      width: 90%;
      max-width: 400px;
      padding: 30px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(0, 102, 255, 0.3);
      text-align: center;
    }

    .light-mode .modal-content {
      background: white;
    }

    .modal-content h2 {
      background: linear-gradient(to right, var(--primary-color), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .light-mode .modal-content h2 {
      background: linear-gradient(to right, #0052cc, #0099cc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .modal-actions {
      margin-top: 25px;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 12px 30px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow-light);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    /* TV Controls Overlay */
    .tv-controls-overlay {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 14px;
      z-index: 9999;
      text-align: center;
      transition: opacity 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .current-channel {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 5px;
      color: var(--primary-color);
    }

    .tv-instructions {
      font-size: 12px;
      opacity: 0.8;
    }

    /* Channel Change Notification */
    .channel-change-notification {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 15px 25px;
      border-radius: 10px;
      font-size: 18px;
      z-index: 10000;
      transition: opacity 0.3s ease;
      display: flex;
      align-items: center;
      gap: 15px;
      backdrop-filter: blur(5px);
    }

    .notification-content {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .channel-number {
      background: var(--primary-color);
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    /* Series Selection Modal */
    .series-selection-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1500;
      align-items: center;
      justify-content: center;
    }

    .series-selection-modal.active {
      display: flex;
    }

    .series-modal-content {
      background: var(--bg-card);
      border-radius: 15px;
      width: 90%;
      max-width: 800px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: var(--shadow);
      border: 1px solid rgba(0, 102, 255, 0.3);
    }

    .light-mode .series-modal-content {
      background: white;
    }

    .series-modal-header {
      padding: 20px 25px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .light-mode .series-modal-header {
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .series-modal-title {
      font-size: 22px;
      font-weight: 700;
      background: linear-gradient(to right, var(--primary-color), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .light-mode .series-modal-title {
      background: linear-gradient(to right, #0052cc, #0099cc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .close-modal {
      background: none;
      border: none;
      color: var(--text-gray);
      font-size: 20px;
      cursor: pointer;
      transition: var(--transition);
    }

    .light-mode .close-modal {
      color: #666;
    }

    .close-modal:hover {
      color: var(--primary-color);
    }

    .series-modal-body {
      padding: 25px;
    }

    .episodes-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 15px;
    }

    .episode-card {
      background: var(--bg-darker);
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
      transition: var(--transition);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .light-mode .episode-card {
      background: #f8f9fa;
      border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .episode-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-light);
      border-color: rgba(0, 102, 255, 0.3);
    }

    .light-mode .episode-card:hover {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .episode-thumbnail {
      position: relative;
      height: 100px;
      overflow: hidden;
    }

    .episode-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .episode-info {
      padding: 12px;
    }

    .episode-title {
      font-weight: 600;
      margin-bottom: 5px;
      font-size: 13px;
    }

    .light-mode .episode-title {
      color: #333;
    }

    .episode-duration {
      color: var(--text-muted);
      font-size: 11px;
    }

    .light-mode .episode-duration {
      color: #666;
    }

    /* Focus styles for TV navigation */
    .channel-card:focus,
    .series-card:focus,
    .footer-nav-btn:focus,
    .episode-card:focus,
    .movie-card:focus {
      outline: 2px solid var(--primary-color);
      outline-offset: 2px;
    }

    /* Christmas Animations */
    .christmas-decoration {
      position: absolute;
      pointer-events: none;
      z-index: 1;
    }

    .snowflake {
      position: absolute;
      color: #fff;
      font-size: 1em;
      text-shadow: 0 0 5px #00ccff;
      animation: fall linear forwards;
    }

    @keyframes fall {
      to {
        transform: translateY(100vh);
      }
    }

    .twinkle {
      animation: twinkle 2s infinite alternate;
    }

    @keyframes twinkle {
      0% { opacity: 0.2; }
      100% { opacity: 1; }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .app-header {
        padding: 15px;
      }
      
      .logo-text {
        font-size: 22px;
      }
      
      .channels-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 15px;
      }
      
      .series-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 15px;
      }
      
      .movies-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 15px;
      }
      
      .footer-nav {
        gap: 20px;
      }
      
      .main-content {
        padding: 20px;
      }
      
      .section-title {
        font-size: 24px;
      }

      .series-fullscreen-player iframe,
      .movies-fullscreen-player iframe {
        width: 100%;
        height: 100%;
      }

      .splash-logo {
        font-size: 3.5rem;
      }

      .splash-subtitle {
        font-size: 1rem;
      }

      .episodes-grid {
        grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
      }
    }

    @media (max-width: 480px) {
      .channels-grid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 12px;
      }
      
      .series-grid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 12px;
      }
      
      .movies-grid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 12px;
      }
      
      .footer-nav {
        gap: 10px;
      }
      
      .footer-nav-btn {
        padding: 8px 10px;
        min-width: 60px;
      }
      
      .footer-nav-btn span {
        font-size: 10px;
      }
      
      .main-content {
        padding: 15px;
      }

      .splash-logo {
        font-size: 2.5rem;
      }

      .splash-subtitle {
        font-size: 0.9rem;
      }

      .episodes-grid {
        grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
      }
    }

    /* TV Box specific styles */
    @media (min-width: 1024px) and (min-height: 600px) {
      .channel-card,
      .series-card,
      .movie-card {
        min-height: 180px;
      }
      
      .channel-thumbnail,
      .series-thumbnail,
      .movie-thumbnail {
        height: 140px;
      }
      
      .footer-nav-btn {
        padding: 12px 20px;
        min-width: 90px;
      }
      
      .footer-nav-btn i {
        font-size: 24px;
      }
      
      .footer-nav-btn span {
        font-size: 14px;
      }
    }
  </style>
</head>
<body class="tv-mode">
    <!-- Splash Screen (solo para móviles) -->
    <div class="splash-screen" id="splash-screen">
      <video class="splash-video" autoplay muted loop>
        <source src="video/inicio.mp4" type="video/mp4">
      </video>
      <div class="splash-overlay">
        <div class="splash-logo">GC</div>
        <div class="splash-subtitle">Finki</div>
        <div class="splash-progress">
          <div class="splash-progress-bar" id="splash-progress"></div>
        </div>
      </div>
    </div>

    <!-- App Container -->
    <div class="app-container" id="app-container">
        <!-- App Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo-container">
                    <div class="logo">GC</div>
                    <span class="logo-text">Finki</span>
                </div>
            </div>
            <div class="header-right">
                <div class="header-actions">
                    <button class="theme-toggle" id="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="settings-btn" id="settings-btn">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Section -->
            <section class="content-section active" id="home-section">
                <div class="channels-container">
                    <h2 class="section-title">CANALES EN VIVO</h2>
                    <div class="channels-grid" id="channels-grid">
                        <!-- Channels will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Channels Section -->
            <section class="content-section" id="channels-section">
                <div class="channels-container">
                    <h2 class="section-title">TODOS LOS CANALES</h2>
                    <div class="channels-grid" id="all-channels-grid">
                        <!-- All channels will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Movies Section -->
            <section class="content-section" id="movies-section">
                <div class="movies-container">
                    <h2 class="section-title">NUESTRAS PELÍCULAS</h2>
                    <div class="movies-grid" id="movies-grid">
                        <!-- Movies will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Series Section -->
            <section class="content-section" id="series-section">
                <div class="series-container">
                    <h2 class="section-title">NUESTRAS SERIES</h2>
                    <div class="series-grid" id="series-grid">
                        <!-- Series will be loaded here -->
                    </div>
                </div>
            </section>
        </main>

        <!-- Quick Navigation Footer -->
        <footer class="app-footer">
            <div class="footer-nav">
                <button class="footer-nav-btn active" data-section="home">
                    <i class="fas fa-home"></i>
                    <span>Inicio</span>
                </button>
                <button class="footer-nav-btn" data-section="channels">
                    <i class="fas fa-tv"></i>
                    <span>Canales</span>
                </button>
                <button class="footer-nav-btn" data-section="movies">
                    <i class="fas fa-film"></i>
                    <span>Películas</span>
                </button>
                <button class="footer-nav-btn" data-section="series">
                    <i class="fas fa-tv"></i>
                    <span>Series</span>
                </button>
            </div>
        </footer>
    </div>

    <!-- Fullscreen Player for Channels -->
    <div class="fullscreen-player" id="fullscreen-player">
        <div id="fullscreen-iframe-container"></div>
    </div>

    <!-- Fullscreen Player for Series -->
    <div class="series-fullscreen-player" id="series-fullscreen-player">
        <iframe id="series-iframe" allowfullscreen allow="autoplay"></iframe>
    </div>

    <!-- Fullscreen Player for Movies -->
    <div class="movies-fullscreen-player" id="movies-fullscreen-player">
        <iframe id="movies-iframe" allowfullscreen allow="autoplay"></iframe>
    </div>

    <!-- Series Selection Modal -->
    <div class="series-selection-modal" id="series-selection-modal">
        <div class="series-modal-content">
            <div class="series-modal-header">
                <h2 class="series-modal-title" id="series-modal-title">Seleccionar Episodio</h2>
                <button class="close-modal" id="close-series-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="series-modal-body">
                <div class="episodes-grid" id="episodes-grid">
                    <!-- Episodes will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="tv-modal" id="settings-modal">
        <div class="modal-content">
            <h2><i class="fas fa-cog"></i> AJUSTES</h2>
            <div class="modal-actions">
                <button class="btn-primary" id="close-settings">Cerrar</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Detectar tipo de dispositivo
            const isTV = window.matchMedia('(min-width: 1024px) and (min-height: 600px) and (pointer: coarse)').matches || 
                        window.matchMedia('(display-mode: fullscreen)').matches ||
                        navigator.userAgent.includes('TV') ||
                        navigator.userAgent.includes('SmartTV');

            // Splash Screen Elements
            const splashScreen = document.getElementById('splash-screen');
            const splashProgress = document.getElementById('splash-progress');
            const appContainer = document.getElementById('app-container');

            // Si es TV, saltar pantalla de inicio
            if (isTV) {
                splashScreen.style.display = 'none';
                appContainer.classList.add('loaded');
            } else {
                // Mostrar splash screen y comenzar progreso
                splashProgress.style.width = '100%';
                
                setTimeout(function() {
                    splashScreen.style.opacity = '0';
                    setTimeout(function() {
                        splashScreen.style.display = 'none';
                        appContainer.classList.add('loaded');
                    }, 500);
                }, 5000); // 5 segundos
            }

            // DOM Elements
            const body = document.body;
            const settingsBtn = document.getElementById('settings-btn');
            const themeToggle = document.getElementById('theme-toggle');
            const settingsModal = document.getElementById('settings-modal');
            const closeSettingsBtn = document.getElementById('close-settings');
            const footerNavBtns = document.querySelectorAll('.footer-nav-btn');
            const contentSections = document.querySelectorAll('.content-section');
            const channelsGrid = document.getElementById('channels-grid');
            const allChannelsGrid = document.getElementById('all-channels-grid');
            const seriesGrid = document.getElementById('series-grid');
            const moviesGrid = document.getElementById('movies-grid');
            const fullscreenPlayer = document.getElementById('fullscreen-player');
            const seriesFullscreenPlayer = document.getElementById('series-fullscreen-player');
            const moviesFullscreenPlayer = document.getElementById('movies-fullscreen-player');
            const fullscreenIframeContainer = document.getElementById('fullscreen-iframe-container');
            const seriesIframe = document.getElementById('series-iframe');
            const moviesIframe = document.getElementById('movies-iframe');
            const seriesSelectionModal = document.getElementById('series-selection-modal');
            const closeSeriesModalBtn = document.getElementById('close-series-modal');
            const episodesGrid = document.getElementById('episodes-grid');
            const seriesModalTitle = document.getElementById('series-modal-title');

            // Channel data
            const channels = [
                {
                    id: 1,
                    title: "BOLIVIA TV",
                    thumbnail: "https://www.boliviatv.bo/principal/images/icons/logos/logo_defecto.jpg",
                    iframeCode: `<div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;"><iframe src="https://geo.dailymotion.com/player.html?video=x9nzqpo" style="width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden; border:none;" allowfullscreen title="Dailymotion Video Player" allow="web-share"></iframe></div>`
                },
                {
                    id: 2,
                    title: "RED UNO",
                    thumbnail: "https://yt3.googleusercontent.com/Z9-5VuT1xqHWp_QJ3JvLD-PZlYQt_subNOfi-Lz-qYN75iaFP2r0oK7qclcnP4o9biLIo6qQROA=s900-c-k-c0x00ffffff-no-rj",
                    iframeCode: `<div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;">
                        <iframe src="https://geo.dailymotion.com/player.html?video=x9n2qyk"
                            style="width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden; border:none;"
                            allowfullscreen
                            title="Dailymotion Video Player"
                            allow="web-share">
                        </iframe>
                    </div>`
                },
                {
                    id: 3,
                    title: "UNITEL",
                    thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSOdEfaOkHFy6LeOzD_hgc1vDvrwDf0OPf45g&s",
                    iframeCode: `<div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;"><iframe src="https://geo.dailymotion.com/player.html?video=x9onjrk" style="width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden; border:none;" allowfullscreen title="Dailymotion Video Player" allow="web-share"></iframe></div>`
                },
                {
                    id: 4,
                    title: "ATB",
                    thumbnail: "https://play-lh.googleusercontent.com/sgL9elaLnROZ-njx1G5n7PyIcYWvaUuIsjecWtTOAY275giwquEG_J07ETmJbxfBFNaX",
                    iframeCode: `<div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;">
                        <iframe src="https://geo.dailymotion.com/player.html?video=x84eirw"
                            style="width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden; border:none;"
                            allowfullscreen
                            title="Dailymotion Video Player"
                            allow="web-share">
                        </iframe>
                    </div>`
                },
                {
                    id: 5,
                    title: "BOLIVISION",
                    thumbnail: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTz_l8SYGwAy5V9Bzc2ZloQdwjhNHW-zV3cqg&s",
                    iframeCode: `<div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;">
                        <video width="100%" height="100%" controls autoplay style="position:absolute; left:0px; top:0px;">
                            <source src="https://d2qsan2ut81n2k.cloudfront.net/live/20446f64-67d8-4100-8c4b-20a759a8e919/ts:abr.m3u8" type="application/x-mpegURL">
                            Tu navegador no soporta el elemento de video.
                        </video>
                    </div>`
                }
            ];

            // Series data
            const series = [
                {
                    id: 1,
                    title: "HÉROES DE GUARDIA",
                    thumbnail: "https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABTMz1tiwU9LLJ6ooPQ9AB5RxrGGwtnJue2ebQei9SK-ZO3TneKyCUo0hwPjG5eQgfN4LIxJE60HVN_tcD1xNn9yXGPzoWl8def4v.jpg?r=aad",
                    episodes: [
                        {
                            id: 1,
                            title: "Episodio 1",
                            thumbnail: "https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABTMz1tiwU9LLJ6ooPQ9AB5RxrGGwtnJue2ebQei9SK-ZO3TneKyCUo0hwPjG5eQgfN4LIxJE60HVN_tcD1xNn9yXGPzoWl8def4v.jpg?r=aad",
                            videoUrl: "https://ok.ru/videoembed/9067445488266?autoplay=1",
                            duration: "45 min"
                        },
                        {
                            id: 2,
                            title: "Episodio 2",
                            thumbnail: "https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABTMz1tiwU9LLJ6ooPQ9AB5RxrGGwtnJue2ebQei9SK-ZO3TneKyCUo0hwPjG5eQgfN4LIxJE60HVN_tcD1xNn9yXGPzoWl8def4v.jpg?r=aad",
                            videoUrl: "https://ok.ru/videoembed/9067445553802?autoplay=1",
                            duration: "42 min"
                        },
                        {
                            id: 3,
                            title: "Episodio 3",
                            thumbnail: "https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABTMz1tiwU9LLJ6ooPQ9AB5RxrGGwtnJue2ebQei9SK-ZO3TneKyCUo0hwPjG5eQgfN4LIxJE60HVN_tcD1xNn9yXGPzoWl8def4v.jpg?r=aad",
                            videoUrl: "https://ok.ru/videoembed/9067445619338?autoplay=1",
                            duration: "48 min"
                        },
                        {
                            id: 4,
                            title: "Episodio 4",
                            thumbnail: "https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABTMz1tiwU9LLJ6ooPQ9AB5RxrGGwtnJue2ebQei9SK-ZO3TneKyCUo0hwPjG5eQgfN4LIxJE60HVN_tcD1xNn9yXGPzoWl8def4v.jpg?r=aad",
                            videoUrl: "https://ok.ru/videoembed/9067445684874?autoplay=1",
                            duration: "44 min"
                        },
                        {
                            id: 5,
                            title: "Episodio 5",
                            thumbnail: "https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABTMz1tiwU9LLJ6ooPQ9AB5RxrGGwtnJue2ebQei9SK-ZO3TneKyCUo0hwPjG5eQgfN4LIxJE60HVN_tcD1xNn9yXGPzoWl8def4v.jpg?r=aad",
                            videoUrl: "https://ok.ru/videoembed/9067445750410?autoplay=1",
                            duration: "46 min"
                        },
                        {
                            id: 6,
                            title: "Episodio 6",
                            thumbnail: "https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABTMz1tiwU9LLJ6ooPQ9AB5RxrGGwtnJue2ebQei9SK-ZO3TneKyCUo0hwPjG5eQgfN4LIxJE60HVN_tcD1xNn9yXGPzoWl8def4v.jpg?r=aad",
                            videoUrl: "https://ok.ru/videoembed/9067445815946?autoplay=1",
                            duration: "43 min"
                        },
                        {
                            id: 7,
                            title: "Episodio 7",
                            thumbnail: "https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABTMz1tiwU9LLJ6ooPQ9AB5RxrGGwtnJue2ebQei9SK-ZO3TneKyCUo0hwPjG5eQgfN4LIxJE60HVN_tcD1xNn9yXGPzoWl8def4v.jpg?r=aad",
                            videoUrl: "https://ok.ru/videoembed/9067445947018?autoplay=1",
                            duration: "47 min"
                        },
                        {
                            id: 8,
                            title: "Episodio 8",
                            thumbnail: "https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABTMz1tiwU9LLJ6ooPQ9AB5RxrGGwtnJue2ebQei9SK-ZO3TneKyCUo0hwPjG5eQgfN4LIxJE60HVN_tcD1xNn9yXGPzoWl8def4v.jpg?r=aad",
                            videoUrl: "https://ok.ru/videoembed/9067445881482?autoplay=1",
                            duration: "45 min"
                        }
                    ]
                },
                {
                    id: 2,
                    title: "NUEVA SERIE PRÓXIMAMENTE",
                    thumbnail: "https://via.placeholder.com/300x450/1a1a1a/0066ff?text=PRÓXIMAMENTE",
                    episodes: [
                        {
                            id: 1,
                            title: "Próximamente",
                            thumbnail: "https://via.placeholder.com/300x169/1a1a1a/0066ff?text=PRÓXIMAMENTE",
                            videoUrl: "",
                            duration: "0 min"
                        }
                    ]
                }
            ];

            // Movies data
            const movies = [
                {
                    id: 1,
                    title: "RÁPIDOS Y FURIOSOS 9",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BNWEwNWExNWUtODI1OC00NzYzLTk4ZTctYmY4ZTBjMWQzMjMwXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-xw7dqyzcna5q.html?autoplay=1"
                },
                {
                    id: 2,
                    title: "AVENGERS END GAME",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BMTc5MDE2ODcwNV5BMl5BanBnXkFtZTgwMzI2NzQ2NzM@._V1_.jpg",
                    videoUrl: "https://uqload.cx/embed-75c7sw2fsagw.html?autoplay=1"
                },
                {
                    id: 3,
                    title: "VENOM CARNAGE LIBERADO",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BZGIxMTU1MjItM2FmMi00YmFiLTgwNDMtMTczYmVjYTBhNGZhXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-ob5wdepjw1d0.html?autoplay=1"
                },
                {
                    id: 4,
                    title: "SPIDER-MAN: SIN CAMINO A CASA",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BZWMyYzFjYTYtNTRjYi00OGExLWE2YzgtOGRmYjAxZTU3NzBiXkEyXkFqcGdeQXVyMzQ0MzA0NTM@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-u8idsdvpu36j.html?autoplay=1"
                },
                {
                    id: 5,
                    title: "WAKANDA POR SIEMPRE",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BNTM4NjIxNmEtYWE5NS00NDczLTkyNWQtYThhNmQyZGQzMjM0XkEyXkFqcGdeQXVyODk4OTc3MTY@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-61l7edc11g62.html?autoplay=1"
                },
                {
                    id: 6,
                    title: "MATRIX 4 RESURRECTIONS",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BMGJkNDJlZWUtOGM1Ny00YjNkLThiM2QtY2ZjMzQxMTIxNWNmXkEyXkFqcGdeQXVyMDM2NDM2MQ@@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-be73469boh82.html?autoplay=1"
                },
                {
                    id: 7,
                    title: "THE GANGSTER, THE COP, THE DEVIL",
                    thumbnail: "https://upload.wikimedia.org/wikipedia/en/b/bf/The_Gangster%2C_The_Cop%2C_The_Devil.jpg",
                    videoUrl: "https://uqload.cx/embed-1wed352375g2.html?autoplay=1"
                },
                {
                    id: 8,
                    title: "ELEMENTAL",
                    thumbnail: "https://sm.ign.com/ign_es/cover/e/elemental/elemental_h9du.jpg",
                    videoUrl: "https://uqload.cx/embed-5sxll7p0ymc3.html?autoplay=1"
                },
                {
                    id: 9,
                    title: "ALADDIN",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BMjQ2ODIyMjY4MF5BMl5BanBnXkFtZTgwNzY4ODI2NzM@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-0dplpylc0r9u.html?autoplay=1"
                },
                {
                    id: 10,
                    title: "A TRAVÉS DEL SPIDER-VERSO",
                    thumbnail: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEia4Y_N5sgVF1qS1ravvd_rcrfI2wBGWxMIDaAKM5SyIshxqmIMzqHj-rxGtGs9VfN-rUY5fIQRhwYEauRZ1_GpoQD1w0k01Lpyv8vQ-njKr309acsGO2B1ZcqBpbWqjr3mrre6HEA5Bl8jv5K-RSiiAqQjmvIhnu-E1Vrxzc_QTIhP871yttGXTV0e/w1200-h630-p-k-no-nu/Spider-ManAcrossTheSpiderVerse.jpg",
                    videoUrl: "https://uqload.cx/embed-712lyiwhwuyy.html?autoplay=1"
                },
                {
                    id: 11,
                    title: "EL ÚLTIMO DESEO",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BN2VjN2M2MjAtMDNhYS00NzA0LWIxNDctODU1MzZlZTA1YjJmXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-996gzqzpg3a3.html?autoplay=1"
                },
                {
                    id: 12,
                    title: "LAS AVENTURAS DE BUCK",
                    thumbnail: "https://pics.filmaffinity.com/Ice_Age_Las_aventuras_de_Buck-115600317-large.jpg",
                    videoUrl: "https://uqload.cx/embed-kkzydjd4tz7x.html?autoplay=1"
                },
                {
                    id: 13,
                    title: "DRAGON BALL SUPER: BROLY",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BMjhhMDU5Y2QtMzcyZS00ZGE1LTg3ZjMtMTYyOTM0OTFlYTRkXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-nx2z1niy60gg.html?autoplay=1"
                },
                {
                    id: 14,
                    title: "KUNG FU PANDA",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BODJkZTZhMWItMDI3Yy00ZWZlLTk4NjQtOTI1ZjU5NjBjZTVjXkEyXkFqcGdeQXVyODE5NzE3OTE@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-wkis2gwhffuv.html?autoplay=1"
                },
                {
                    id: 15,
                    title: "EL GRINCH",
                    thumbnail: "https://australianlatam.com/wp-content/uploads/2022/11/el-Grinch-2-683x1024.jpg",
                    videoUrl: "https://uqload.cx/embed-ynsua0cb71nz.html?autoplay=1"
                },
                {
                    id: 16,
                    title: "COCO",
                    thumbnail: "https://m.media-amazon.com/images/M/MV5BYjQ5NjM0Y2YtNjZkNC00ZDhkLWJjMWItN2QyNzFkMDE3ZjAxXkEyXkFqcGdeQXVyODIxMzk5NjA@._V1_FMjpg_UX1000_.jpg",
                    videoUrl: "https://uqload.cx/embed-zo0gzfzu5pa3.html?autoplay=1"
                }
            ];
            
            // Current playing channel
            let currentChannel = null;
            let isFullscreen = false;
            let currentChannelIndex = 0;
            let tvRemoteEnabled = false;
            let currentSeries = null;
            let isLightMode = false;

            // Initialize the app
            function initApp() {
                setupEventListeners();
                renderChannels();
                renderSeries();
                renderMovies();
                showSection('home');
                setupAutoFullscreen();
                setupTVRemote();
                setupBackButtonHandler();
                setupChristmasAnimations();
                setupThemeToggle();
                
                // Si es TV, mostrar controles de TV
                if (isTV) {
                    setupTVNavigation();
                }
            }

            // Setup Christmas animations
            function setupChristmasAnimations() {
                createSnowflakes();
                addTwinkleEffect();
            }

            // Create snowflakes animation
            function createSnowflakes() {
                const snowflakesContainer = document.createElement('div');
                snowflakesContainer.className = 'snowflakes-container';
                snowflakesContainer.style.position = 'fixed';
                snowflakesContainer.style.top = '0';
                snowflakesContainer.style.left = '0';
                snowflakesContainer.style.width = '100%';
                snowflakesContainer.style.height = '100%';
                snowflakesContainer.style.pointerEvents = 'none';
                snowflakesContainer.style.zIndex = '1';
                
                document.body.appendChild(snowflakesContainer);
                
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => {
                        createSnowflake(snowflakesContainer);
                    }, i * 300);
                }
            }

            function createSnowflake(container) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.innerHTML = '❄';
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.animationDuration = Math.random() * 3 + 5 + 's';
                snowflake.style.opacity = Math.random() * 0.5 + 0.3;
                snowflake.style.fontSize = Math.random() * 10 + 10 + 'px';
                
                container.appendChild(snowflake);
                
                setTimeout(() => {
                    if (snowflake.parentNode) {
                        snowflake.remove();
                        createSnowflake(container);
                    }
                }, 10000);
            }

            // Add twinkle effect to cards
            function addTwinkleEffect() {
                const cards = document.querySelectorAll('.channel-card, .series-card, .movie-card');
                cards.forEach(card => {
                    if (Math.random() > 0.7) {
                        card.classList.add('twinkle');
                    }
                });
            }

            // Setup theme toggle
            function setupThemeToggle() {
                const savedTheme = localStorage.getItem('finki-theme');
                if (savedTheme === 'light') {
                    toggleTheme();
                }
                
                themeToggle.addEventListener('click', toggleTheme);
            }

            function toggleTheme() {
                isLightMode = !isLightMode;
                if (isLightMode) {
                    body.classList.add('light-mode');
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                    localStorage.setItem('finki-theme', 'light');
                } else {
                    body.classList.remove('light-mode');
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                    localStorage.setItem('finki-theme', 'dark');
                }
            }

            // Setup TV navigation
            function setupTVNavigation() {
                console.log('TV Navigation enabled');
                
                // Focus management for TV remote
                const focusableElements = document.querySelectorAll('.channel-card, .series-card, .movie-card, .footer-nav-btn, .episode-card');
                
                let currentFocusIndex = 0;
                
                document.addEventListener('keydown', function(e) {
                    if (!isFullscreen && !seriesFullscreenPlayer.classList.contains('active') && 
                        !moviesFullscreenPlayer.classList.contains('active') && 
                        !seriesSelectionModal.classList.contains('active')) {
                        
                        switch(e.key) {
                            case 'ArrowUp':
                                e.preventDefault();
                                navigateFocus(-1, 'vertical');
                                break;
                            case 'ArrowDown':
                                e.preventDefault();
                                navigateFocus(1, 'vertical');
                                break;
                            case 'ArrowLeft':
                                e.preventDefault();
                                navigateFocus(-1, 'horizontal');
                                break;
                            case 'ArrowRight':
                                e.preventDefault();
                                navigateFocus(1, 'horizontal');
                                break;
                            case 'Enter':
                                e.preventDefault();
                                if (focusableElements[currentFocusIndex]) {
                                    focusableElements[currentFocusIndex].click();
                                }
                                break;
                        }
                    }
                });
                
                function navigateFocus(direction, orientation) {
                    const grid = document.querySelector('.channels-grid, .series-grid, .movies-grid, .episodes-grid');
                    if (!grid) return;
                    
                    const items = Array.from(grid.children);
                    const columns = getComputedStyle(grid).gridTemplateColumns.split(' ').length;
                    
                    if (orientation === 'horizontal') {
                        currentFocusIndex += direction;
                    } else {
                        currentFocusIndex += direction * columns;
                    }
                    
                    if (currentFocusIndex < 0) {
                        currentFocusIndex = focusableElements.length - 1;
                    } else if (currentFocusIndex >= focusableElements.length) {
                        currentFocusIndex = 0;
                    }
                    
                    focusableElements[currentFocusIndex].focus();
                }
                
                // Initial focus
                if (focusableElements.length > 0) {
                    focusableElements[0].focus();
                }
            }

            // Render movies to the grid
            function renderMovies() {
                moviesGrid.innerHTML = '';
                
                movies.forEach((movie, index) => {
                    const movieCard = createMovieCard(movie, index);
                    moviesGrid.appendChild(movieCard);
                });
            }

            // Create movie card element
            function createMovieCard(movie, index) {
                const card = document.createElement('div');
                card.className = 'movie-card';
                card.dataset.id = movie.id;
                card.tabIndex = 0; // Make focusable for TV navigation
                
                card.innerHTML = `
                    <div class="movie-thumbnail">
                        <img src="${movie.thumbnail}" alt="${movie.title}" loading="lazy">
                    </div>
                    <div class="movie-title">${movie.title}</div>
                `;
                
                card.addEventListener('click', function() {
                    playMovieFullscreen(movie);
                });
                
                return card;
            }

            // Play movie in fullscreen
            function playMovieFullscreen(movie) {
                moviesIframe.src = movie.videoUrl;
                moviesFullscreenPlayer.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Entrar automáticamente en pantalla completa
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        console.log('Fullscreen error:', err);
                    });
                }
                
                // Forzar el sonido (esto depende de las políticas del navegador)
                setTimeout(() => {
                    try {
                        moviesIframe.contentWindow.postMessage('{"func":"playVideo"}', '*');
                    } catch(e) {
                        console.log('No se pudo forzar reproducción automática');
                    }
                }, 1000);
            }

            // Exit movie fullscreen
            function exitMovieFullscreen() {
                moviesFullscreenPlayer.classList.remove('active');
                document.body.style.overflow = 'auto';
                moviesIframe.src = '';
                
                if (document.fullscreenElement) {
                    document.exitFullscreen();
                }
            }

            // Render series to the grid
            function renderSeries() {
                seriesGrid.innerHTML = '';
                
                series.forEach((serie, index) => {
                    const seriesCard = createSeriesCard(serie, index);
                    seriesGrid.appendChild(seriesCard);
                });
            }

            // Create series card element
            function createSeriesCard(serie, index) {
                const card = document.createElement('div');
                card.className = 'series-card';
                card.dataset.id = serie.id;
                card.tabIndex = 0; // Make focusable for TV navigation
                
                card.innerHTML = `
                    <div class="series-thumbnail">
                        <img src="${serie.thumbnail}" alt="${serie.title}" loading="lazy">
                    </div>
                    <div class="series-title">${serie.title}</div>
                `;
                
                card.addEventListener('click', function() {
                    openSeriesSelection(serie);
                });
                
                return card;
            }

            // Open series selection modal
            function openSeriesSelection(serie) {
                currentSeries = serie;
                seriesModalTitle.textContent = serie.title;
                episodesGrid.innerHTML = '';
                
                serie.episodes.forEach(episode => {
                    const episodeCard = createEpisodeCard(episode);
                    episodesGrid.appendChild(episodeCard);
                });
                
                seriesSelectionModal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Focus first episode for TV navigation
                setTimeout(() => {
                    const firstEpisode = document.querySelector('.episode-card');
                    if (firstEpisode) firstEpisode.focus();
                }, 100);
            }

            // Create episode card element
            function createEpisodeCard(episode) {
                const card = document.createElement('div');
                card.className = 'episode-card';
                card.dataset.id = episode.id;
                card.tabIndex = 0; // Make focusable for TV navigation
                
                card.innerHTML = `
                    <div class="episode-thumbnail">
                        <img src="${episode.thumbnail}" alt="${episode.title}" loading="lazy">
                    </div>
                    <div class="episode-info">
                        <div class="episode-title">${episode.title}</div>
                        <div class="episode-duration">${episode.duration}</div>
                    </div>
                `;
                
                card.addEventListener('click', function() {
                    if (episode.videoUrl) {
                        playSeriesFullscreen(episode.videoUrl);
                        closeSeriesSelection();
                    }
                });
                
                return card;
            }

            // Close series selection modal
            function closeSeriesSelection() {
                seriesSelectionModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            // Play series in fullscreen
            function playSeriesFullscreen(videoUrl) {
                seriesIframe.src = videoUrl;
                seriesFullscreenPlayer.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Entrar automáticamente en pantalla completa
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        console.log('Fullscreen error:', err);
                    });
                }
                
                // Forzar el sonido (esto depende de las políticas del navegador)
                setTimeout(() => {
                    try {
                        seriesIframe.contentWindow.postMessage('{"func":"playVideo"}', '*');
                    } catch(e) {
                        console.log('No se pudo forzar reproducción automática');
                    }
                }, 1000);
            }

            // Exit series fullscreen
            function exitSeriesFullscreen() {
                seriesFullscreenPlayer.classList.remove('active');
                document.body.style.overflow = 'auto';
                seriesIframe.src = '';
                
                if (document.fullscreenElement) {
                    document.exitFullscreen();
                }
            }

            // Setup TV Remote functionality
            function setupTVRemote() {
                if (navigator.tv || navigator.remoteControl) {
                    console.log('TV Remote API disponible');
                }
                console.log('TV Remote configurado - Usa las flechas para cambiar canales');
            }

            // Setup back button handler
            function setupBackButtonHandler() {
                window.addEventListener('popstate', function(event) {
                    if (isFullscreen) {
                        exitFullscreen();
                        event.preventDefault();
                        window.history.pushState(null, null, window.location.href);
                    }
                    if (seriesFullscreenPlayer.classList.contains('active')) {
                        exitSeriesFullscreen();
                        event.preventDefault();
                        window.history.pushState(null, null, window.location.href);
                    }
                    if (moviesFullscreenPlayer.classList.contains('active')) {
                        exitMovieFullscreen();
                        event.preventDefault();
                        window.history.pushState(null, null, window.location.href);
                    }
                    if (seriesSelectionModal.classList.contains('active')) {
                        closeSeriesSelection();
                        event.preventDefault();
                        window.history.pushState(null, null, window.location.href);
                    }
                });

                window.history.pushState(null, null, window.location.href);
            }

            // Setup event listeners
            function setupEventListeners() {
                settingsBtn.addEventListener('click', openSettings);
                closeSettingsBtn.addEventListener('click', closeSettings);
                closeSeriesModalBtn.addEventListener('click', closeSeriesSelection);
                
                footerNavBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        const section = this.dataset.section;
                        showSection(section);
                        setActiveFooterNav(this);
                    });
                });
                
                // Keyboard controls
                document.addEventListener('keydown', handleKeyboard);
                
                // Touch events
                document.addEventListener('touchstart', handleTouchStart, false);
                document.addEventListener('touchmove', handleTouchMove, false);

                // Series fullscreen close on click
                seriesFullscreenPlayer.addEventListener('click', exitSeriesFullscreen);
                
                // Movies fullscreen close on click
                moviesFullscreenPlayer.addEventListener('click', exitMovieFullscreen);
                
                // Close series selection modal when clicking outside
                seriesSelectionModal.addEventListener('click', function(e) {
                    if (e.target === seriesSelectionModal) {
                        closeSeriesSelection();
                    }
                });
            }

            // Touch controls para cambiar canales
            let xDown = null;
            let yDown = null;

            function handleTouchStart(evt) {
                if (!isFullscreen) return;
                
                const firstTouch = evt.touches[0];
                xDown = firstTouch.clientX;
                yDown = firstTouch.clientY;
            }

            function handleTouchMove(evt) {
                if (!xDown || !yDown || !isFullscreen) return;

                const xUp = evt.touches[0].clientX;
                const yUp = evt.touches[0].clientY;

                const xDiff = xDown - xUp;
                const yDiff = yDown - yUp;

                if (Math.abs(xDiff) > Math.abs(yDiff)) {
                    if (xDiff > 0) {
                        changeChannel(1);
                    } else {
                        changeChannel(-1);
                    }
                }

                xDown = null;
                yDown = null;
            }

            // Handle keyboard
            function handleKeyboard(e) {
                if (isFullscreen) {
                    switch(e.key) {
                        case 'Escape':
                        case 'Backspace':
                            exitFullscreen();
                            e.preventDefault();
                            break;
                        case 'ArrowLeft':
                            changeChannel(-1);
                            e.preventDefault();
                            break;
                        case 'ArrowRight':
                            changeChannel(1);
                            e.preventDefault();
                            break;
                        case '0':
                        case '1':
                        case '2':
                        case '3':
                        case '4':
                        case '5':
                        case '6':
                        case '7':
                        case '8':
                        case '9':
                            const channelNumber = parseInt(e.key);
                            if (channelNumber <= channels.length) {
                                changeToChannel(channelNumber - 1);
                            }
                            e.preventDefault();
                            break;
                    }
                } else if (seriesFullscreenPlayer.classList.contains('active')) {
                    if (e.key === 'Escape' || e.key === 'Backspace') {
                        exitSeriesFullscreen();
                        e.preventDefault();
                    }
                } else if (moviesFullscreenPlayer.classList.contains('active')) {
                    if (e.key === 'Escape' || e.key === 'Backspace') {
                        exitMovieFullscreen();
                        e.preventDefault();
                    }
                } else if (seriesSelectionModal.classList.contains('active')) {
                    if (e.key === 'Escape' || e.key === 'Backspace') {
                        closeSeriesSelection();
                        e.preventDefault();
                    }
                }
            }

            // Cambiar canal (dirección: -1 para anterior, 1 para siguiente)
            function changeChannel(direction) {
                currentChannelIndex += direction;
                
                if (currentChannelIndex < 0) {
                    currentChannelIndex = channels.length - 1;
                } else if (currentChannelIndex >= channels.length) {
                    currentChannelIndex = 0;
                }
                
                playChannelFullscreen(channels[currentChannelIndex]);
                showChannelChangeNotification(channels[currentChannelIndex].title);
            }

            // Cambiar a canal específico
            function changeToChannel(index) {
                if (index >= 0 && index < channels.length) {
                    currentChannelIndex = index;
                    playChannelFullscreen(channels[currentChannelIndex]);
                    showChannelChangeNotification(channels[currentChannelIndex].title);
                }
            }

            // Mostrar notificación de cambio de canal
            function showChannelChangeNotification(channelName) {
                const existingNotification = document.querySelector('.channel-change-notification');
                if (existingNotification) {
                    existingNotification.remove();
                }
                
                const notification = document.createElement('div');
                notification.className = 'channel-change-notification';
                notification.innerHTML = `
                    <div class="notification-content">
                        <span class="channel-number">${currentChannelIndex + 1}</span>
                        <span class="channel-name">${channelName}</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.opacity = '0';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.remove();
                        }
                    }, 300);
                }, 2000);
            }

            // Setup auto fullscreen functionality
            function setupAutoFullscreen() {
                const observer = new MutationObserver(function(mutations) {
                    mutations.forEach(function(mutation) {
                        if (mutation.type === 'childList' && fullscreenIframeContainer.children.length > 0) {
                            enterFullscreen();
                        }
                    });
                });
                
                observer.observe(fullscreenIframeContainer, { childList: true });
            }

            // Enter fullscreen mode
            function enterFullscreen() {
                fullscreenPlayer.classList.add('active');
                document.body.style.overflow = 'hidden';
                isFullscreen = true;
                currentChannelIndex = channels.findIndex(ch => ch.id === currentChannel.id);
                
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        console.log('Fullscreen error:', err);
                    });
                }
                
                addTVControls();
            }

            // Agregar controles de TV en pantalla completa
            function addTVControls() {
                const existingControls = document.querySelector('.tv-controls-overlay');
                if (existingControls) {
                    existingControls.remove();
                }
                
                const controls = document.createElement('div');
                controls.className = 'tv-controls-overlay';
                controls.innerHTML = `
                    <div class="tv-controls-info">
                        <div class="current-channel">${currentChannel.title}</div>
                        <div class="tv-instructions">
                            ← → Cambiar canal | ESC Salir | 1-${channels.length} Canal directo
                        </div>
                    </div>
                `;
                
                fullscreenPlayer.appendChild(controls);
                
                setTimeout(() => {
                    controls.style.opacity = '0';
                }, 5000);
                
                fullscreenPlayer.addEventListener('mousemove', showTVControls);
                fullscreenPlayer.addEventListener('touchstart', showTVControls);
                
                function showTVControls() {
                    controls.style.opacity = '1';
                    setTimeout(() => {
                        controls.style.opacity = '0';
                    }, 5000);
                }
            }

            // Exit fullscreen mode
            function exitFullscreen() {
                fullscreenPlayer.classList.remove('active');
                document.body.style.overflow = 'auto';
                isFullscreen = false;
                
                if (document.fullscreenElement) {
                    document.exitFullscreen();
                }
                
                fullscreenIframeContainer.innerHTML = '';
                
                const controls = document.querySelector('.tv-controls-overlay');
                if (controls) {
                    controls.remove();
                }
                
                fullscreenPlayer.removeEventListener('mousemove', showTVControls);
                fullscreenPlayer.removeEventListener('touchstart', showTVControls);
            }

            // Open settings modal
            function openSettings() {
                settingsModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            // Close settings modal
            function closeSettings() {
                settingsModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            // Show selected section
            function showSection(sectionId) {
                contentSections.forEach(section => {
                    section.classList.remove('active');
                });
                
                document.getElementById(`${sectionId}-section`).classList.add('active');
            }

            // Set active footer navigation
            function setActiveFooterNav(activeItem) {
                footerNavBtns.forEach(btn => {
                    btn.classList.remove('active');
                });
                
                activeItem.classList.add('active');
            }

            // Render channels to the grids
            function renderChannels() {
                channelsGrid.innerHTML = '';
                allChannelsGrid.innerHTML = '';
                
                channels.forEach((channel, index) => {
                    const channelCard = createChannelCard(channel, index);
                    channelsGrid.appendChild(channelCard);
                    
                    const fullChannelCard = createChannelCard(channel, index);
                    allChannelsGrid.appendChild(fullChannelCard);
                });
            }

            // Create channel card element
            function createChannelCard(channel, index) {
                const card = document.createElement('div');
                card.className = 'channel-card';
                card.dataset.id = channel.id;
                card.tabIndex = 0; // Make focusable for TV navigation
                
                card.innerHTML = `
                    <div class="channel-thumbnail">
                        <img src="${channel.thumbnail}" alt="${channel.title}" loading="lazy">
                        <span class="channel-live-badge">EN VIVO</span>
                        <span class="channel-number">${index + 1}</span>
                    </div>
                    <div class="channel-title">${channel.title}</div>
                `;
                
                card.addEventListener('click', function() {
                    playChannelFullscreen(channel);
                });
                
                return card;
            }

            // Play channel in fullscreen
            function playChannelFullscreen(channel) {
                currentChannel = channel;
                currentChannelIndex = channels.findIndex(ch => ch.id === channel.id);
                fullscreenIframeContainer.innerHTML = channel.iframeCode;
            }

            // Initialize the app after splash screen
            setTimeout(initApp, isTV ? 0 : 5000);
        });
    </script>
</body>
</html>
